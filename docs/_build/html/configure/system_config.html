
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>System Configuration &#8212; Local EnteroBase (Beta)  documentation</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Upload Test" href="upload_test.html" />
    <link rel="prev" title="Registration" href="register.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="upload_test.html" title="Upload Test"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="register.html" title="Registration"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Local EnteroBase (Beta)  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="configure.html" accesskey="U">Registration and Configuration</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="system-configuration">
<h1>System Configuration<a class="headerlink" href="#system-configuration" title="Permalink to this headline">¶</a></h1>
<p>On entry to the webpage, the Local EnteroBase administrator is required to sign in with the system credentials set during
the installation phase. Then, the following webpages should display the following configuration steps that need to be completed:</p>
<div class="section" id="general-configuration">
<h2>General Configuration<a class="headerlink" href="#general-configuration" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>A name for your Local EnteroBase, to be displayed when using the website, must be inputted. It does not need to match the name used to register your Local EnteroBase.</p></li>
<li><p>An image to be displayed as a logo in the website, that also identifies it in your browser’s address bar, must be chosen. We provide functionalities for cropping and resizing if required.</p></li>
<li><p>If required, a filepath to an accessible directory that stores data produced by Local EnteroBase, such as short-read assembly results, can be selected. A default file path is automatically
filled in on the form that is created if currently non-existent.</p>
<div class="figure align-center" id="id1">
<img alt="General Configuration Form" src="../_images/general_config.png" />
<p class="caption"><span class="caption-text"><strong>Fig 1. General Configuration Form</strong></span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
</li>
</ul>
</div>
<div class="section" id="database-selection-and-configuration">
<h2>Database Selection and Configuration<a class="headerlink" href="#database-selection-and-configuration" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="mail-server">
<h2>Mail Server<a class="headerlink" href="#mail-server" title="Permalink to this headline">¶</a></h2>
<p>Note: The mail server functionality is currently unavailable for the beta test, feel free to skip this section.</p>
</div>
<div class="section" id="celery-messaging">
<h2>Celery Messaging<a class="headerlink" href="#celery-messaging" title="Permalink to this headline">¶</a></h2>
<p>DESCRIBE CELERY</p>
<p>The entire form is filled by default that should correctly configure Celery with your Local EnteroBase. <strong>please do not change these values unless you are an expert</strong>.</p>
<div class="figure align-center" id="id2">
<img alt="Celery Messaging Configuration Form*" src="../_images/celery_messaging.png" />
<p class="caption"><span class="caption-text"><strong>Fig 2. Celery Messaging Configuration Form</strong></span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<p><strong>TO REMOVE</strong>
* The local administrator needs to:</p>
<blockquote>
<div><ul class="simple">
<li><p>Link an email account to act as the communication point for local enterobase. This includes the server (MAIL_SERVER), port (MAIL_PORT), username (MAIL_USERNAME), and password (MAIL_PASSWORD).</p>
<ul>
<li><p>Additional settings are available for advanced configuration, this includes tls (MAIL_USE_TLS), ssl (MAIL_USE_SSL)</p></li>
</ul>
</li>
<li><p>Configure the database server which includes uri( DATABSE SERVER URI), port (DATABASE PORT), username (DATABSE USER) and password (DATABSE PASSSWORD)</p></li>
<li><p>Register your installation with Warwick EnteroBase</p></li>
<li><p>Test uploading files to Warwick EnteroBase</p></li>
</ul>
</div></blockquote>
<ul>
<li><p>In case of using “local_enterobase_installer.sh” bash script to install the system, then the script will configure the system with the default setting which should be fine for most of cases.</p></li>
<li><p>The local installation configuration file is saved in the user home folder ($HOME/.local_configuration_file.yml), you can edit it directly using any text editor (e.g. vim) or it can be alerted using “/update_system_configuration”  link from the web interface (it will be the default main web page if the database is not configured or not configured correctly in case of manual installation).</p></li>
<li><p>After any system configuration change, you need to restart the application using the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">singularity</span> <span class="n">instance</span>  <span class="n">stop</span> <span class="n">local_enterobase</span>
<span class="n">singularity</span> <span class="n">instance</span> <span class="n">start</span> <span class="n">local_enterobase</span><span class="o">.</span><span class="n">sif</span> <span class="n">local_enterobase</span>
</pre></div>
</div>
</li>
<li><p>If the local administrator has installed it using the provided bash file, it will create a bash script “restart_local_enterobase.sh” which can be used to restart the singularity container useing the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">restart_local_enterobase</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
</li>
<li><p>In case of using the automatic installation, it is needed to get the server URL from the user input during the installation.</p></li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">System Configuration</a><ul>
<li><a class="reference internal" href="#general-configuration">General Configuration</a></li>
<li><a class="reference internal" href="#database-selection-and-configuration">Database Selection and Configuration</a></li>
<li><a class="reference internal" href="#mail-server">Mail Server</a></li>
<li><a class="reference internal" href="#celery-messaging">Celery Messaging</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="register.html"
                        title="previous chapter">Registration</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="upload_test.html"
                        title="next chapter">Upload Test</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/configure/system_config.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="upload_test.html" title="Upload Test"
             >next</a> |</li>
        <li class="right" >
          <a href="register.html" title="Registration"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Local EnteroBase (Beta)  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="configure.html" >Registration and Configuration</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Local EnteroBase Developers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.0.
    </div>
  </body>
</html>